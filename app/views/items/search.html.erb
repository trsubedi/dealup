<h1 class="transbox search-font"> Search Items</h1>
  <%= form_tag(search_items_path, :method => "get", class: "navbar-form", id: "search-form") do %>
    <div class="input-append form-group">
      <!-- add `remote: true` option for async -->
      <%= text_field_tag :search, params[:search], placeholder: "Search items", class: "form-control" %>
      <!-- In order to have the "search" icon int the button, we need to use plain HTML instead
           of using a Rails form helper -->
       <%= text_field_tag :location, params[:location], placeholder: "Enter Location", class: "form-control" %>    
      <%= submit_tag "Search", class: "btn btn-default" %>
    </div>
  <% end %>


<div class="container-fluid col-md-2 panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">Browse Categories</h4>
    </div>
      <div class="panel-body">
        <ul class='list-unstyled'>
          <% @category.each do |category| %>
            <li> <a href="/categories/<%= category.id %>/items"> <%= category.name %> </a> </li>
          <% end %>
        </ul>
      </div>
</div>
        
        <% if @items.present? %>
       <h2> Items located near: <%=@items[0].item_location %></h2>
            <% else %>
          <p>There are no <%= params[:search] %> listed in <%= params[:location] %>.</p>
          <p>Search items in another nearest location.</p>
      <% end %>




      
      <div class="col-md-10">
        <% @items.each do |item| %>

          <div class='col-md-3'>
            <div id="item-img">
          <img class="img-show"src="<%= item.image %>">
          </div>
          <a data-no-turbolink="true" href="/items/<%= item.id %>"> <%= item.title %> </a><br>
          
          <%= item.price %><br>
          <%= item.condition %><br>
          <%= item.description %><br>
          <%= item.item_location %><br>
          </div>
        <% end %>
      </div>
</div>

